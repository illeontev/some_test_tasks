# Ревью кода

###Метод 'create_tables':

1. Дописать инструкцию IF NOT EXISTS.

2. Стоит придерживаться единобразия при именовании полей. 
Либо obj_id в обеих таблицах, либо object_id.

3. Object нужно вынести в отдельную сущность (таблицу).


###Метод 'accept_status':

1. В блок-исключение стоит оборачивать только тот код, который может сгенерировать ошибку.
В данном случае это строка извлечения данных из kwargs. Остальные строки лучше вынести за пределы блока try 
(в блок else). В идеале для каждого извлекаемого параметра описать свой блок-исключение, чтобы было понятно,
при извлечении какого именно параметра произошла ошибка.

2. В описанных INSERT-запросах есть опасность для возникновения SQL-инъекции. Значения параметров запроса необходимо указывать в качестве второго параметра метода execute().


###Метод 'check_token':

1. Значение токена стоит задавать как переменную окружения (в файле .env).


###Метод 'get_statuses':

1. Каждый извлекаемый параметр лучше обернуть в свой собственный блок-исключение,чтобы было понятно,  
    при извлечении какого параметра возникает ошибка.
2. BaseException - слишком общий Exception. Лучше предусмотреть отдельное поведения для TypeError, ValueError и т.д.
    Все остальные исключения ловить как Exception.
3. Код будет работать на сервере, а там некому смотреть выводы метода print. Следовательно, все выводы сообщений 
    нужно выполнять с помощью методов библиотеки logging.
4. Не стоит во всех случаях пробрасывать ValueError. Лучше пробрасывать тот тип исключения, который действительно
    произошел.
5. Значения параметров запроса нельзя зашивать в текст запроса. Обязательно нужно передавать их в качестве
    второго параметра метода execute().
6. Достаточно сделать отбор по object_id.
7. Вместо метода fetch(), вероятно, имеется в виду метод fetch_all().
    

###Метод 'get_statuses_errors_by_occurred_at':
1. Замечания 1-7 из метода 'get_statuses'.
2. Строка получения result слишком сложна для восприятия. Лучше сформировать список в обычном цикле for.
Не имеет смысла обращение к items(), ведь нас интересуют только значения (values()). Значение переменной 'y' для 
обозначения значения словаря выбрано крайне неудачно. Нужно давать более говорящие имена переменным.


###Общие замечания:
1. Не хватает docstring как у самого модуля, так и у методов.
2. Строки длиной более 79 символов нужно разбить на более короткие.